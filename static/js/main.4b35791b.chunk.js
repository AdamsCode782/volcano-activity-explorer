(this["webpackJsonpvolcano-activity-tracker"]=this["webpackJsonpvolcano-activity-tracker"]||[]).push([[0],{14:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var o=a(2),n=a.n(o),l=a(3),s=a.n(l),c=(a(14),a(9)),r=a(7),i=a(8),d=a.n(i),u=a(0);var v=e=>{let{onClick:t}=e;const a=e=>{e.stopPropagation(),t()};return Object(u.jsx)("div",{className:"volcano-marker",onClick:a,onTouchStart:a,children:Object(u.jsx)(r.Icon,{icon:d.a,className:"volcano-icon"})})};var p={Kilauea:{type:"Shield volcano",elevation:1247,last_eruption:"2021",fun_fact:"Kilauea is one of the most active volcanoes on Earth, erupting almost continuously from 1983 to 2018."},"Nevado del Ruiz":{type:"Stratovolcano",elevation:5321,last_eruption:"2020",fun_fact:"Its 1985 eruption caused the Armero tragedy, one of the deadliest volcanic disasters of the 20th century."},Etna:{type:"Stratovolcano",elevation:3329,last_eruption:"2024",fun_fact:"Mount Etna is Europe\u2019s most active volcano and has been erupting for half a million years."},Merapi:{type:"Stratovolcano",elevation:2930,last_eruption:"2023",fun_fact:"Merapi erupts on average every 3\u20135 years and is considered Indonesia\u2019s most active volcano."},Taal:{type:"Complex volcano",elevation:311,last_eruption:"2020",fun_fact:"Taal Volcano sits inside a larger crater lake and once erupted so violently it created a volcanic island."},Popocatepetl:{type:"Stratovolcano",elevation:5393,last_eruption:"2024",fun_fact:"Popocat\xe9petl is Mexico\u2019s second-tallest volcano and emits near-constant gas plumes."},Sangay:{type:"Stratovolcano",elevation:5286,last_eruption:"2024",fun_fact:"Sangay is one of the world\u2019s most active volcanoes, erupting intermittently for centuries."},Ruapehu:{type:"Stratovolcano",elevation:2797,last_eruption:"2007",fun_fact:"Mount Ruapehu was featured as 'Mount Doom' in the Lord of the Rings films."},Stromboli:{type:"Stratovolcano",elevation:924,last_eruption:"2024",fun_fact:"Stromboli has been erupting near-continuously for over 2,000 years, known as the 'Lighthouse of the Mediterranean.'"},Arenal:{type:"Stratovolcano",elevation:1670,last_eruption:"2010",fun_fact:"Arenal was dormant for centuries until a 1968 eruption created new vents and reshaped the landscape."},Shishaldin:{type:"Stratovolcano",elevation:2857,last_eruption:"2024",fun_fact:"Shishaldin is one of the world\u2019s most perfectly symmetrical volcanic cones."},Semeru:{type:"Stratovolcano",elevation:3676,last_eruption:"2023",fun_fact:"Semeru erupts frequently and is one of the most active volcanoes in Indonesia."},Krakatoa:{type:"Caldera volcano",elevation:813,last_eruption:"2022",fun_fact:"The 1883 Krakatoa eruption was so loud it was heard 3,000 miles away and caused global climate effects."}};var j=e=>{var t;let{volcano:a,onClose:n}=e;const[l,s]=Object(o.useState)(null);Object(o.useEffect)(()=>{if(!a)return void s(null);(async()=>{try{const e=await fetch("https://nominatim.openstreetmap.org/reverse?lat=".concat(a.lat,"&lon=").concat(a.lng,"&format=json")),t=await e.json();s(t)}catch(e){s(null)}})()},[a]);let c=null;a&&(c=a.title.replace(/Volcano|Volc\xe1n|Mt\.|Mount|Peak|Caldera|Island/gi,"").split(",")[0].trim().normalize("NFD").replace(/[\u0300-\u036f]/g,""));const r=c?p[c]:null,i=(null===l||void 0===l||null===(t=l.address)||void 0===t?void 0:t.country)||"Unknown location";return Object(u.jsx)("div",{className:"drawer ".concat(a?"open":""),onClick:e=>e.stopPropagation(),onTouchStart:e=>e.stopPropagation(),children:a&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("button",{className:"drawer-close",onClick:n,children:"\xd7"}),Object(u.jsx)("h2",{children:a.title}),Object(u.jsx)("p",{className:"drawer-sub",children:i}),Object(u.jsxs)("ul",{className:"drawer-info",children:[Object(u.jsxs)("li",{children:[Object(u.jsx)("strong",{children:"Last Activity:"})," ",a.date]}),Object(u.jsxs)("li",{children:[Object(u.jsx)("strong",{children:"Coordinates:"})," ",a.lat.toFixed(3),", ",a.lng.toFixed(3)]}),a.source&&Object(u.jsxs)("li",{children:[Object(u.jsx)("strong",{children:"Source:"})," ",Object(u.jsx)("a",{href:a.source,target:"_blank",rel:"noreferrer",children:"Smithsonian Volcano Page \u2192"})]})]}),r&&Object(u.jsxs)("div",{className:"drawer-section",children:[Object(u.jsx)("h3",{className:"drawer-section-title",children:"Volcano Details"}),Object(u.jsxs)("ul",{className:"drawer-info extra",children:[r.type&&Object(u.jsxs)("li",{children:[Object(u.jsx)("strong",{children:"Type:"})," ",r.type]}),r.elevation&&Object(u.jsxs)("li",{children:[Object(u.jsx)("strong",{children:"Elevation:"})," ",r.elevation," m"]}),r.last_eruption&&Object(u.jsxs)("li",{children:[Object(u.jsx)("strong",{children:"Last Eruption:"})," ",r.last_eruption]}),r.fun_fact&&Object(u.jsxs)("li",{children:[Object(u.jsx)("strong",{children:"Fun Fact:"})," ",r.fun_fact]})]})]})]})})};var f=[{elementType:"geometry",stylers:[{color:"#1a1a1a"}]},{elementType:"labels.text.stroke",stylers:[{color:"#1a1a1a"}]},{elementType:"labels.text.fill",stylers:[{color:"#e0e0e0"}]},{featureType:"administrative.country",elementType:"geometry",stylers:[{color:"#3a3a3a"}]},{featureType:"administrative.land_parcel",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#242424"}]},{featureType:"poi",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#2c2c2c"}]},{featureType:"road",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#111111"}]}];const h=e=>{let{eventData:t,center:a,zoom:n}=e;const[l,s]=Object(o.useState)(null),r=t.map((e,t)=>{var a,o;if("volcanoes"!==(null===(a=e.categories)||void 0===a||null===(o=a[0])||void 0===o?void 0:o.id))return null;const n=[...e.geometry||e.geometries||[]].reverse().find(e=>e&&"Point"===e.type&&Array.isArray(e.coordinates)&&2===e.coordinates.length);if(!n)return null;const[l,c]=n.coordinates;return Object(u.jsx)(v,{lat:c,lng:l,onClick:()=>{var t,a;return s({id:e.id,title:e.title,lat:c,lng:l,date:n.date,source:(null===(t=e.sources)||void 0===t||null===(a=t[0])||void 0===a?void 0:a.url)||null})}},t)});Object(o.useEffect)(()=>{let e=0;const t=t=>{e=t.touches[0].clientX},a=t=>{const a=t.changedTouches[0].clientX;l&&a-e>60&&s(null)};return window.addEventListener("touchstart",t),window.addEventListener("touchend",a),()=>{window.removeEventListener("touchstart",t),window.removeEventListener("touchend",a)}},[l]);const i=()=>s(null);return Object(u.jsxs)("div",{className:"map",children:[l&&Object(u.jsx)("div",{className:"drawer-backdrop",onClick:i,style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0, 0, 0, 0.35)",backdropFilter:"blur(2px)",zIndex:2500}}),Object(u.jsx)(c.a,{bootstrapURLKeys:{key:"AIzaSyAu4vS8zopffWM7p0nQIs0QfL4AYf92Y6o"},defaultCenter:a,defaultZoom:n,options:{styles:f,disableDefaultUI:!0,zoomControl:!0,gestureHandling:"greedy"},children:r}),Object(u.jsx)(j,{volcano:l,onClose:i})]})};h.defaultProps={center:{lat:20,lng:0},zoom:2};var y=h;var m=()=>Object(u.jsxs)("div",{className:"loader-overlay",children:[Object(u.jsx)("div",{className:"lava-loader"}),Object(u.jsx)("h1",{className:"loader-text",children:"Loading volcanic activity\u2026"})]});var b=()=>Object(u.jsx)("header",{className:"header seismic-header",children:Object(u.jsxs)("div",{className:"header-row",children:[Object(u.jsxs)("svg",{className:"volcano-svg",width:"34",height:"34",viewBox:"0 0 64 64",xmlns:"http://www.w3.org/2000/svg",children:[Object(u.jsx)("path",{d:"M8 56 L32 8 L56 56 Z",fill:"#5a4638"}),Object(u.jsx)("path",{d:"M26 22 L32 10 L38 22 Z",fill:"#d8d8d8"}),Object(u.jsx)("circle",{className:"lava",cx:"32",cy:"23",r:"6",fill:"#ff4500"}),Object(u.jsx)("circle",{className:"smoke smoke-1",cx:"32",cy:"6",r:"4",fill:"#cccccc"}),Object(u.jsx)("circle",{className:"smoke smoke-2",cx:"28",cy:"2",r:"3",fill:"#e6e6e6"}),Object(u.jsx)("circle",{className:"smoke smoke-3",cx:"36",cy:"0",r:"2.5",fill:"#f0f0f0"})]}),Object(u.jsx)("span",{className:"header-text",children:"Global Volcano Activity Map"})]})});var x=function(){const[e,t]=Object(o.useState)([]),[a,n]=Object(o.useState)(!1);return Object(o.useEffect)(()=>{(async()=>{n(!0);const e=await fetch("https://eonet.gsfc.nasa.gov/api/v3/events?category=volcanoes&days=365"),{events:a}=await e.json();console.log("NASA EVENTS:",a),t(a),n(!1)})()},[]),Object(u.jsxs)("div",{children:[Object(u.jsx)(b,{}),a?Object(u.jsx)(m,{}):Object(u.jsx)(y,{eventData:e})]})};var g=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,19)).then(t=>{let{getCLS:a,getFID:o,getFCP:n,getLCP:l,getTTFB:s}=t;a(e),o(e),n(e),l(e),s(e)})};s.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(x,{})}),document.getElementById("root")),g()}},[[18,1,2]]]);
//# sourceMappingURL=main.4b35791b.chunk.js.map